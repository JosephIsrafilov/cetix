{% extends "base.html" %}

{% block title %}Verify Code - PC News{% endblock %}

{% block content %}
<div class="card">
    <h2>Verify your code</h2>
    <p class="meta">
        Enter the email you requested the reset for, the six-digit code we sent, and choose a new password.
    </p>
    <form method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}
        <label for="{{ form.email.id_for_label }}">Email</label>
        {{ form.email }}
        {% for error in form.email.errors %}
            <p class="message error">{{ error }}</p>
        {% endfor %}

        <label for="{{ form.code.id_for_label }}">Verification code</label>
        {{ form.code }}
        {% for error in form.code.errors %}
            <p class="message error">{{ error }}</p>
        {% endfor %}

        <label for="{{ form.new_password1.id_for_label }}">New password</label>
        <div class="password-toggle-wrapper">
            {{ form.new_password1 }}
        </div>
        {% for error in form.new_password1.errors %}
            <p class="message error">{{ error }}</p>
        {% endfor %}

        <label for="{{ form.new_password2.id_for_label }}">Confirm password</label>
        <div class="password-toggle-wrapper">
            {{ form.new_password2 }}
        </div>
        {% for error in form.new_password2.errors %}
            <p class="message error">{{ error }}</p>
        {% endfor %}

        <button type="submit" class="button primary">Reset password</button>
    </form>
    <p class="meta">
        Need a new code? <a href="{% url 'accounts:password_reset_request' %}">Request another one</a>.
    </p>
</div>
{% endblock %}
